CREATE TABLE ACCOUNTS
(
     IBAN              VARCHAR(32)    NOT NULL,
     ACCOUNT_OWNER     VARCHAR(64)    NOT NULL,
     ACCOUNT_TYPE      VARCHAR(64)    NOT NULL,
     BALANCE           DECIMAL(18, 2) NOT NULL,
     REFERENCE_ACCOUNT VARCHAR(64) DEFAULT null,
     CURRENCY          VARCHAR(4)     NOT NULL,
     LOCKED            BOOLEAN     DEFAULT false,
     PRIMARY KEY (IBAN)
);

INSERT INTO ACCOUNTS(`IBAN`, `ACCOUNT_OWNER`, `BALANCE`, `CURRENCY`, `REFERENCE_ACCOUNT`, `ACCOUNT_TYPE`)
VALUES
('DE23120300001234123412', 'Max Liemant', '10.20', 'EUR', null, 'CHECKING'),
('DE73120300001234123433', 'Max Liemant', '1000.50', 'EUR', 'DE23120300001234123412', 'SAVING'),
('DE11120300001234123400', 'Max Liemant', '22000.95', 'EUR', null, 'PRIVATE_LOAN');


CREATE TABLE TRANSACTIONS
(
     ID                 VARCHAR(64)    NOT NULL DEFAULT random_uuid(),
     RECEIVING_IBAN     VARCHAR(64),
     SENDING_IBAN       VARCHAR(64),
     AMOUNT             DECIMAL(18, 2) NOT NULL,
     TRANSACTION_TYPE   VARCHAR(64)    NOT NULL,
     CURRENCY           VARCHAR(4)     NOT NULL,
     TIMESTAMP          VARCHAR(64)    NOT NULL,
     PRIMARY KEY (ID)
);

INSERT INTO TRANSACTIONS(`ID`,`RECEIVING_IBAN`, `SENDING_IBAN`, `AMOUNT`,`TRANSACTION_TYPE`,`CURRENCY`,`TIMESTAMP`)
VALUES
(random_uuid(), 'DE23120300001234123412', null, '23511.65', 'DEPOSIT', 'EUR', '2021-10-02T23:27:14.784998+02:00'),
(random_uuid(), null, 'DE23120300001234123412', '500.00', 'WITHDRAW', 'EUR', '2021-09-04T23:27:14.784998+02:00'),
(random_uuid(), 'DE23120300001234123412', 'DE73120300001234123433', '21000.50', 'TRANSFER', 'EUR', '2021-10-02T23:27:14.784998+02:00'),
(random_uuid(), 'DE73120300001234123433', 'DE23120300001234123412', '1000.00', 'TRANSFER', 'EUR', '2021-10-02T23:27:14.784998+02:00'),
(random_uuid(), 'DE23120300001234123412', 'DE11120300001234123400', '22000.95', 'TRANSFER', 'EUR', '2021-10-02T23:27:14.784998+02:00');
